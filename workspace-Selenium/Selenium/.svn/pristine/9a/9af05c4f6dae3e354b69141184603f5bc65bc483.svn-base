package br.com.specto.entidades;

import java.sql.Connection;
import java.sql.PreparedStatement;
import java.sql.ResultSet;
import java.sql.SQLException;


public class GrupoEnvioDeSms extends Grupo {

	private String servidorEnvioDeSMS;
	private String tipoEnvioDeSMS;
	
	private String tipoCondicoesDeEventos;
	private String motivoNegacaoCondicoesDeEventos;
	
	private String regiaoLocalDeAcesso;
	private String localidadeLocalDeAcesso;
	private String grupoDeAmbienteLocalDeAcesso;
	private String ambienteLocalDeAcesso;
	private String pontoDeAcessoLocalDeAcesso;
	
	private String tipoCondicoesDeEventosParaEdicao;
	private String grupoDeAmbienteLocalDeAcessoParaEdicao;
	private String ambienteLocalDeAcessoParaEdicao;
	private String pontoDeAcessoLocalDeAcessoParaEdicao;
	
	
	
	public GrupoEnvioDeSms(	String nome,
							String descricao, 
							String nomeParaEdicao, 
							String descricaoParaEdicado, 
							Connection connection, 
							String servidorEnvioDeSMS, 
							String tipoEnvioDeSMS,
							String tipoCondicoesDeEventos,
							String motivoNegacaoCondicoesDeEventos,
							String regiaoLocalDeAcesso,
							String localidadeLocalDeAcesso,
							String grupoDeAmbienteLocalDeAcesso,
							String ambienteLocalDeAcesso,
							String pontoDeAcessoLocalDeAcesso,
							
							String tipoCondicoesDeEventosParaEdicao,
							String grupoDeAmbienteLocalDeAcessoParaEdicao,
							String ambienteLocalDeAcessoParaEdicao,
							String pontoDeAcessoLocalDeAcessoParaEdicao) {
		
		super(  nome,
				descricao,
				nomeParaEdicao,
				descricaoParaEdicado,
				connection
		);
		
		this.servidorEnvioDeSMS = servidorEnvioDeSMS;
		this.tipoEnvioDeSMS = tipoEnvioDeSMS;
		
		this.tipoCondicoesDeEventos = tipoCondicoesDeEventos;
		this.motivoNegacaoCondicoesDeEventos = motivoNegacaoCondicoesDeEventos;
		
		this.regiaoLocalDeAcesso = regiaoLocalDeAcesso;
		this.localidadeLocalDeAcesso = localidadeLocalDeAcesso;
		this.grupoDeAmbienteLocalDeAcesso = grupoDeAmbienteLocalDeAcesso;
		this.ambienteLocalDeAcesso = ambienteLocalDeAcesso;
		this.pontoDeAcessoLocalDeAcesso = pontoDeAcessoLocalDeAcesso;
		
		this.tipoCondicoesDeEventosParaEdicao = tipoCondicoesDeEventosParaEdicao;
		this.grupoDeAmbienteLocalDeAcessoParaEdicao = grupoDeAmbienteLocalDeAcessoParaEdicao;
		this.ambienteLocalDeAcessoParaEdicao = ambienteLocalDeAcessoParaEdicao;
		this.pontoDeAcessoLocalDeAcessoParaEdicao = pontoDeAcessoLocalDeAcessoParaEdicao;
		

		
		
	}
	
	
	public String getServidorEnvioDeSMS() {
		return servidorEnvioDeSMS;
	}


	public void setServidorEnvioDeSMS(String servidorEnvioDeSMS) {
		this.servidorEnvioDeSMS = servidorEnvioDeSMS;
	}


	public String getTipoEnvioDeSMS() {
		return tipoEnvioDeSMS;
	}


	public void setTipoEnvioDeSMS(String tipoEnvioDeSMS) {
		this.tipoEnvioDeSMS = tipoEnvioDeSMS;
	}


	public String getTipoCondicoesDeEventos() {
		return tipoCondicoesDeEventos;
	}


	public void setTipoCondicoesDeEventos(String tipoCondicoesDeEventos) {
		this.tipoCondicoesDeEventos = tipoCondicoesDeEventos;
	}


	public String getMotivoNegacaoCondicoesDeEventos() {
		return motivoNegacaoCondicoesDeEventos;
	}


	public void setMotivoNegacaoCondicoesDeEventos(
			String motivoNegacaoCondicoesDeEventos) {
		this.motivoNegacaoCondicoesDeEventos = motivoNegacaoCondicoesDeEventos;
	}


	public String getRegiaoLocalDeAcesso() {
		return regiaoLocalDeAcesso;
	}


	public void setRegiaoLocalDeAcesso(String regiaoLocalDeAcesso) {
		this.regiaoLocalDeAcesso = regiaoLocalDeAcesso;
	}


	public String getLocalidadeLocalDeAcesso() {
		return localidadeLocalDeAcesso;
	}


	public void setLocalidadeLocalDeAcesso(String localidadeLocalDeAcesso) {
		this.localidadeLocalDeAcesso = localidadeLocalDeAcesso;
	}


	public String getGrupoDeAmbienteLocalDeAcesso() {
		return grupoDeAmbienteLocalDeAcesso;
	}


	public void setGrupoDeAmbienteLocalDeAcesso(String grupoDeAmbienteLocalDeAcesso) {
		this.grupoDeAmbienteLocalDeAcesso = grupoDeAmbienteLocalDeAcesso;
	}


	public String getAmbienteLocalDeAcesso() {
		return ambienteLocalDeAcesso;
	}


	public void setAmbienteLocalDeAcesso(String ambienteLocalDeAcesso) {
		this.ambienteLocalDeAcesso = ambienteLocalDeAcesso;
	}


	public String getPontoDeAcessoLocalDeAcesso() {
		return pontoDeAcessoLocalDeAcesso;
	}


	public void setPontoDeAcessoLocalDeAcesso(String pontoDeAcessoLocalDeAcesso) {
		this.pontoDeAcessoLocalDeAcesso = pontoDeAcessoLocalDeAcesso;
	}

	

	public String getGrupoDeAmbienteLocalDeAcessoParaEdicao() {
		return grupoDeAmbienteLocalDeAcessoParaEdicao;
	}


	public void setGrupoDeAmbienteLocalDeAcessoParaEdicao(
			String grupoDeAmbienteLocalDeAcessoParaEdicao) {
		this.grupoDeAmbienteLocalDeAcessoParaEdicao = grupoDeAmbienteLocalDeAcessoParaEdicao;
	}


	public String getAmbienteLocalDeAcessoParaEdicao() {
		return ambienteLocalDeAcessoParaEdicao;
	}


	public void setAmbienteLocalDeAcessoParaEdicao(
			String ambienteLocalDeAcessoParaEdicao) {
		this.ambienteLocalDeAcessoParaEdicao = ambienteLocalDeAcessoParaEdicao;
	}


	public String getPontoDeAcessoLocalDeAcessoParaEdicao() {
		return pontoDeAcessoLocalDeAcessoParaEdicao;
	}


	public void setPontoDeAcessoLocalDeAcessoParaEdicao(
			String pontoDeAcessoLocalDeAcessoParaEdicao) {
		this.pontoDeAcessoLocalDeAcessoParaEdicao = pontoDeAcessoLocalDeAcessoParaEdicao;
	}

	
	public String getTipoCondicoesDeEventosParaEdicao() {
		return tipoCondicoesDeEventosParaEdicao;
	}


	public void setTipoCondicoesDeEventosParaEdicao(
			String tipoCondicoesDeEventosParaEdicao) {
		this.tipoCondicoesDeEventosParaEdicao = tipoCondicoesDeEventosParaEdicao;
	}


	//Recupera o Id do Grupo.
	//select no banco SELECT SMGR_PK_ID FROM VA_SMGR_SMS_GROUP WHERE SMGR_NM_NAME = 'Tiago Campos';
	public int encontraIdGrupo(String nomeGrupo) throws SQLException{
		  
		StringBuilder sql = new StringBuilder();
			
		sql.append("SELECT SMGR_PK_ID ");
		sql.append("FROM   VA_SMGR_SMS_GROUP ");
		sql.append("WHERE  SMGR_NM_NAME = ? ");
					
		PreparedStatement ps = connection.prepareStatement(sql.toString());
			
		ps.setString(1, nomeGrupo);
		ResultSet rs = ps.executeQuery();
		int idGrupo = 0;
			
		try{
			if(rs.next()){
					
				idGrupo = rs.getInt(1);
					
			}
			else{
					
				throw new SQLException("O Grupo " + nomeGrupo + " não está cadastrada no banco");
			}
				
		}finally{
			rs.close();
			ps.close();
		}
		
		return idGrupo;
	}


	
}
